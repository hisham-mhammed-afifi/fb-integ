<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <button
      onclick="launchWhatsAppSignup()"
      style="
        background-color: #1877f2;
        border: 0;
        border-radius: 4px;
        color: #fff;
        cursor: pointer;
        font-family: Helvetica, Arial, sans-serif;
        font-size: 16px;
        font-weight: bold;
        height: 40px;
        padding: 0 24px;
      "
    >
      Login with Facebook
    </button>

    <script>
      window.fbAsyncInit = function () {
        // JavaScript SDK configuration and setup
        FB.init({
          appId: "1635564266883681", // Facebook App ID
          cookie: true, // enable cookies
          xfbml: true, // parse social plugins on this page
          version: "v10.0", //Graph API version
        });
      };

      // Load the JavaScript SDK asynchronously
      (function (d, s, id) {
        var js,
          fjs = d.getElementsByTagName(s)[0];
        if (d.getElementById(id)) return;
        js = d.createElement(s);
        js.id = id;
        js.src = "https://connect.facebook.net/en_US/sdk.js";
        fjs.parentNode.insertBefore(js, fjs);
      })(document, "script", "facebook-jssdk");

      // Facebook Login with JavaScript SDK
      function launchWhatsAppSignup() {
        // Conversion tracking code
        fbq &&
          fbq("trackCustom", "WhatsAppOnboardingStart", {
            appId: "1635564266883681",
            feature: "whatsapp_embedded_signup",
          });

        // Launch Facebook login
        FB.login(
          function (response) {
            if (response.authResponse) {
              const accessToken = response.authResponse.accessToken;
              //Use this token to call the debug_token API and get the shared WABA's ID
            } else {
              console.log("User cancelled login or did not fully authorize.");
            }
          },
          {
            scope: "business_management,whatsapp_business_management",
            extras: {
              feature: "whatsapp_embedded_signup",
              setup: {
                // Prefilled data can go here
              },
            },
          }
        );
      }
    </script>
  </body>
</html>
